<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBLIO X ALLEXXA - Exclusive Collaboration</title>
    <link rel="stylesheet" href="../css/main.css">
</head>

<body>
    <header class="header header-scrolled">
        <nav class="container">
            <div class="nav">
                <a href="/" class="logo">UBLIO</a>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/src/pages/products.html" class="nav-link">Products</a></li>
                    <li><a href="/src/pages/about.html" class="nav-link">About</a></li>
                    <li><a href="/src/pages/contact.html" class="nav-link">Contact</a></li>
                </ul>
                <div class="nav-actions">
                    <a href="/src/pages/cart.html" class="icon-btn cart-icon">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <main style="margin-top: 100px;">
        <section class="collaboration-banner section"
            style="background: linear-gradient(135deg, #1a1a1a, var(--color-secondary)); padding: var(--space-12) 0;">
            <div class="container text-center">
                <span
                    style="color: var(--color-primary); font-family: var(--font-accent); text-transform: uppercase; letter-spacing: 0.2em;">Exclusive
                    Limited Edition</span>
                <h1
                    style="font-size: var(--text-6xl); color: var(--color-primary); margin: var(--space-6) 0; letter-spacing: 0.1em;">
                    UBLIO X ALLEXXA</h1>
                <p
                    style="font-size: var(--text-xl); color: var(--color-accent); max-width: 800px; margin: 0 auto var(--space-8);">
                    Where luxury audio meets innovative design. A collaboration bringing you the perfect fusion of
                    Ublio's audiophile engineering and ALLEXXA's cutting-edge technology.</p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="grid grid-2" id="collaborationProducts" style="max-width: 900px; margin: 0 auto;"></div>
            </div>
        </section>

        <section class="section" style="background: var(--color-gray-100);">
            <div class="container text-center">
                <h2>The Collaboration Story</h2>
                <p
                    style="max-width: 800px; margin: var(--space-6) auto; color: var(--color-gray-600); line-height: 1.8;">
                    UBLIO X ALLEXXA represents more than just smart speakersâ€”it's a statement of what's possible when
                    audio excellence meets intelligent design. Every detail has been meticulously crafted to deliver an
                    experience that's both sonically superior and seamlessly integrated with your connected lifestyle.
                </p>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 Ublio Audio. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script type="module">
        import productsData from '/src/data/products.json';
        import { createProductCard, updateCartCount } from '/src/js/main.js';

        const collaborationProducts = productsData.products.filter(p => p.category === 'collaboration');
        const container = document.getElementById('collaborationProducts');

        container.innerHTML = collaborationProducts.map((product, index) => createProductCard(product, index)).join('');

        document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const productId = btn.dataset.productId;
                const product = productsData.products.find(p => p.id === productId);
                if (!product) return;

                let cart = JSON.parse(localStorage.getItem('ublioCart')) || [];
                const existing = cart.find(item => item.id === productId);

                if (existing) {
                    existing.quantity += 1;
                } else {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: `/src/assets/images/products/collaboration/${product.images[0]}`,
                        quantity: 1
                    });
                }

                localStorage.setItem('ublioCart', JSON.stringify(cart));
                updateCartCount();
                alert(`${product.name} added to cart!`);
            });
        });

        updateCartCount();
    </script>
</body>

</html>